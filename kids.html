<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Men's Eyewear - LeseCart üëì</title>
<style>
  /* Reset & basics */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0; font-family: Arial, sans-serif; background: #f0f8ff;
    color: #004080;
  }
  a {
    text-decoration: none; color: #004080;
  }
  button {
    cursor: pointer;
  }

  /* HEADER */
  header {
    background: #cce7ff;
    padding: 12px 20px;
    display: flex; align-items: center; justify-content: space-between;
    position: sticky; top: 0; z-index: 100;
    border-bottom: 2px solid #0099ff;
  }
  header .brand {
    font-size: 1.8rem; font-weight: 700;
    display: flex; align-items: center; gap: 6px;
  }
  header .brand::before {
    content: "üëì";
    font-size: 1.8rem;
  }
  header .category-link {
    background: #0099ff; color: white; border: none;
    padding: 8px 16px; border-radius: 5px;
    font-weight: 600;
    transition: background-color 0.3s;
  }
  header .category-link:hover {
    background: #007acc;
  }

  /* SEARCH BAR */
  .search-bar-container {
    background: #e6f0ff;
    padding: 10px 20px;
    display: flex; justify-content: center;
  }
  .search-bar-container input[type="search"] {
    width: 100%; max-width: 600px;
    padding: 10px 15px;
    font-size: 1rem;
    border: 2px solid #0099ff;
    border-radius: 30px;
    outline: none;
    transition: border-color 0.3s;
  }
  .search-bar-container input[type="search"]:focus {
    border-color: #0066cc;
  }

  /* ICONS BAR */
  .icons-bar {
    position: fixed;
    top: 80px;
    right: 20px;
    display: flex;
    gap: 15px;
    z-index: 110;
  }
  .icons-bar button {
    background: transparent;
    border: none;
    font-size: 1.8rem;
    position: relative;
  }
  .icons-bar button:hover {
    color: #0066cc;
  }
  .icons-bar button .badge {
    position: absolute;
    top: -6px;
    right: -8px;
    background: #ff3333;
    color: white;
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 50%;
  }
 .carousel-container {
  position: relative;
  width: 1500px;
  height: 350px;
  overflow: hidden;
  border-radius: 15px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  background-color: white;
}

.carousel-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background-color: rgba(0,0,0,0.4);
  color: white;
  border: none;
  font-size: 2rem;
  cursor: pointer;
  padding: 10px;
  z-index: 1;
  border-radius: 50%;
}

.nav:hover {
  background-color: rgba(0,0,0,0.6);
}

.prev {
  left: 15px;
}

.next {
  right: 15px;
}

  /* PRODUCTS GRID */
  .products-container {
    max-width: 1000px;
    margin: 20px auto 60px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
    padding: 0 15px;
  }
  .product-card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  .product-card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    cursor: pointer;
  }
  .product-info {
    padding: 12px 15px;
    flex-grow: 1;
    display: flex; flex-direction: column; justify-content: space-between;
  }
  .product-info h3 {
    margin: 0 0 8px 0;
    font-size: 1.1rem;
    color: #004080;
  }
  .product-info p {
    margin: 4px 0;
    font-size: 0.9rem;
    color: #333;
  }
  .price {
    font-weight: 700;
    color: #007acc;
    margin-bottom: 12px;
  }
  .btn-group {
    display: flex;
    gap: 8px;
  }
  .btn-group button {
    flex: 1;
    padding: 8px 0;
    font-weight: 600;
    border: none;
    border-radius: 6px;
    color: white;
    background: #0099ff;
    transition: background 0.3s;
  }
  .btn-group button:hover {
    background: #007acc;
  }
  .btn-wishlist {
    background: #ff6666;
  }
  .btn-wishlist:hover {
    background: #cc0000;
  }

  /* MODALS COMMON */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.5);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 120;
  }
  .modal-overlay.active {
    display: flex;
  }
  .modal {
    background: white;
    border-radius: 12px;
    max-width: 480px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    position: relative;
  }
  .modal .close-btn {
    position: absolute;
    right: 15px;
    top: 12px;
    font-size: 1.5rem;
    background: none;
    border: none;
    cursor: pointer;
    color: #666;
  }
  .modal .close-btn:hover {
    color: #0099ff;
  }

  /* PRODUCT DETAILS MODAL */
  .modal-product-image {
    width: 100%;
    height: 260px;
    object-fit: cover;
    border-radius: 12px 12px 0 0;
  }
  .modal-content {
    padding: 15px 20px;
  }
  .modal-content h2 {
    margin-top: 0;
    color: #004080;
  }
  .modal-content p {
    color: #333;
    margin: 8px 0;
  }
  .modal-content .price {
    font-size: 1.2rem;
    font-weight: 700;
    color: #007acc;
    margin-bottom: 15px;
  }
  .modal-content .btn-group {
    display: flex;
    gap: 10px;
  }
  .modal-content .btn-group button {
    flex: 1;
    padding: 10px 0;
    font-weight: 700;
    border-radius: 8px;
    border: none;
    color: white;
    font-size: 1rem;
  }
  .modal-content .btn-addcart {
    background: #007acc;
  }
  .modal-content .btn-wishlist {
    background: #cc0000;
  }

  /* CART & WISHLIST MODAL CONTENT */
  .cart-wishlist-list {
    max-height: 400px;
    overflow-y: auto;
    padding: 10px 20px;
  }
  .cart-wishlist-item {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
    gap: 15px;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
  }
  .cart-wishlist-item img {
    width: 70px;
    height: 60px;
    object-fit: cover;
    border-radius: 8px;
  }
  .cart-wishlist-item-info {
    flex-grow: 1;
  }
  .cart-wishlist-item-info h4 {
    margin: 0 0 5px 0;
    font-size: 1rem;
    color: #004080;
  }
  .cart-wishlist-item-info p {
    margin: 2px 0;
    font-size: 0.9rem;
    color: #333;
  }
  .cart-wishlist-item-actions {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  .cart-wishlist-item-actions button {
    background: #0099ff;
    border: none;
    border-radius: 6px;
    color: white;
    padding: 6px 10px;
    font-weight: 600;
    font-size: 0.9rem;
    transition: background 0.3s;
  }
  .cart-wishlist-item-actions button:hover {
    background: #0066cc;
  }
  .cart-wishlist-item-actions .btn-remove {
    background: #cc0000;
  }
  .cart-wishlist-item-actions .btn-remove:hover {
    background: #990000;
  }

  /* CART MODAL BUY BUTTON */
  .cart-modal-footer {
    padding: 12px 20px;
    border-top: 1px solid #ddd;
    display: flex;
    justify-content: flex-end;
    gap: 15px;
  }
  .cart-modal-footer button {
    background: #0099ff;
    border: none;
    padding: 10px 22px;
    border-radius: 8px;
    font-weight: 700;
    color: white;
    font-size: 1rem;
    transition: background 0.3s;
  }
  .cart-modal-footer button:hover {
    background: #007acc;
  }

  /* PAYMENT MODAL */
  .payment-form {
    padding: 20px;
  }
  .payment-form h3 {
    margin-top: 0;
    color: #004080;
  }
  .payment-form label {
    display: block;
    margin: 12px 0 6px 0;
    font-weight: 600;
  }
  .payment-form select,
  .payment-form input[type="text"],
  .payment-form input[type="email"],
  .payment-form input[type="tel"],
  .payment-form input[type="number"] {
    width: 100%;
    padding: 8px 10px;
    border-radius: 6px;
    border: 1.5px solid #0099ff;
    outline: none;
    font-size: 1rem;
    box-sizing: border-box;
    transition: border-color 0.3s;
  }
  .payment-form select:focus,
  .payment-form input:focus {
    border-color: #0066cc;
  }
  .payment-form button {
    margin-top: 20px;
    width: 100%;
    background: #007acc;
    color: white;
    border: none;
    padding: 12px;
    font-size: 1.1rem;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
    transition: background 0.3s;
  }
  .payment-form button:hover {
    background: #005a99;
  }
  .thank-you-message {
    text-align: center;
    font-size: 1.3rem;
    font-weight: 700;
    padding: 40px 20px;
    color: #007acc;
  }

  /* Responsive */
  @media(max-width: 600px) {
    header {
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }
    .icons-bar {
      top: 70px;
      right: 10px;
    }
  }
</style>
</head>
<body>

<header>
  <div class="brand" aria-label="Brand name">A‚ÄôLenz</div>
  <a href="index.html" class="category-link" aria-label="Back to Categories">‚Üê Categories</a>
  <button class="category-link" onclick="openTrackOrderModal()">Track Order</button>
</header>

<!-- Track Order Modal -->
<div class="modal-overlay" id="trackOrderModal" role="dialog" aria-modal="true" aria-labelledby="trackOrderTitle" tabindex="-1">
  <div class="modal">
    <button class="close-btn" onclick="closeModal(trackOrderModal)" aria-label="Close track order modal">&times;</button>
    <div class="payment-form">
      <h3 id="trackOrderTitle">Track Your Order</h3>
      <form id="trackOrderForm">
        <label for="orderId">Order ID</label>
        <input type="text" id="orderId" placeholder="Enter your Order ID" required />

        <label for="orderPhone">Phone Number</label>
        <input type="tel" id="orderPhone" placeholder="Enter your Phone Number" pattern="[0-9]{10}" required />

        <button type="submit">Track</button>
      </form>
      <div class="thank-you-message" id="trackOrderStatus" style="display:none;"></div>
    </div>
  </div>
</div>

<div class="search-bar-container">
  <input type="search" id="searchInput" placeholder="Search kid's eyewear..." aria-label="Search products" />
</div>

<div class="icons-bar" role="region" aria-label="Cart and Wishlist Icons">
  <button id="wishlistBtn" aria-haspopup="dialog" aria-controls="wishlistModal" aria-label="Open Wishlist">
    ‚ù§Ô∏è <span class="badge" id="wishlistCount">0</span>
  </button>
  <button id="cartBtn" aria-haspopup="dialog" aria-controls="cartModal" aria-label="Open Cart">
    üõí <span class="badge" id="cartCount">0</span>
  </button>
</div>

<div class="carousel-container">
    <button class="nav prev" onclick="prevSlide()">&#10094;</button>
    <img id="carouselImage" src="images/carousel1" alt="Carousel Image" />
    <button class="nav next" onclick="nextSlide()">&#10095;</button>
  </div>

<!-- Products Grid -->
<div class="products-container" id="productsContainer" aria-live="polite">
  <!-- Products inserted by JS -->
</div>

<!-- Product Details Modal -->
<div class="modal-overlay" id="productModal" role="dialog" aria-modal="true" aria-labelledby="productModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-btn" aria-label="Close product details modal">&times;</button>
    <img src="" alt="" class="modal-product-image" id="modalProductImage" />
    <div class="modal-content">
      <h2 id="productModalTitle"></h2>
      <p id="productModalDesc"></p>
      <p class="price" id="productModalPrice"></p>
      <div class="btn-group">
        <button class="btn-addcart" id="modalAddToCartBtn">Add to Cart</button>
        <button class="btn-wishlist" id="modalAddToWishlistBtn">Add to Wishlist</button>
      </div>
    </div>
  </div>
</div>

<!-- Cart Modal -->
<div class="modal-overlay" id="cartModal" role="dialog" aria-modal="true" aria-labelledby="cartModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-btn" aria-label="Close cart modal">&times;</button>
    <h2 id="cartModalTitle" style="padding: 20px 20px 10px;">Your Cart</h2>
    <div class="cart-wishlist-list" id="cartItemsList"></div>
    <div class="cart-modal-footer">
      <button id="cartBuyBtn" aria-label="Buy items in cart">Buy</button>
    </div>
  </div>
</div>

<!-- Wishlist Modal -->
<div class="modal-overlay" id="wishlistModal" role="dialog" aria-modal="true" aria-labelledby="wishlistModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-btn" aria-label="Close wishlist modal">&times;</button>
    <h2 id="wishlistModalTitle" style="padding: 20px 20px 10px;">Your Wishlist</h2>
    <div class="cart-wishlist-list" id="wishlistItemsList"></div>
  </div>
</div>

<!-- Payment Modal -->
<div class="modal-overlay" id="paymentModal" role="dialog" aria-modal="true" aria-labelledby="paymentModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-btn" aria-label="Close payment modal">&times;</button>
    <div class="payment-form" id="paymentForm">
      <h3 id="paymentModalTitle">Payment & Personal Information</h3>
      <form id="paymentFormElement">
        <label for="paymentMode">Payment Mode</label>
        <select id="paymentMode" required>
          <option value="">Select a payment method</option>
          <option value="UPI">UPI</option>
          <option value="Credit Card">Credit Card</option>
          <option value="Debit Card">Debit Card</option>
          <option value="Net Banking">Net Banking</option>
        </select>

        <label for="fullName">Full Name</label>
        <input type="text" id="fullName" placeholder="Your full name" required />

        <label for="address">Address</label>
        <input type="text" id="address" placeholder="Your address" required />

        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" placeholder="Your phone number" pattern="[0-9]{10}" required />

        <label for="email">Email ID</label>
        <input type="email" id="email" placeholder="Your email address" required />

        <label for="pincode">Pincode</label>
        <input type="number" id="pincode" placeholder="Your area pincode" required />

        <button type="submit">Submit Payment</button>
      </form>
      <div class="thank-you-message" id="thankYouMessage" style="display:none;">
        Thank you for your purchase! üéâ
      </div>
    </div>
  </div>
</div>

<script>
  // PRODUCTS DATA
  const products = [
  // Sunglasses
  {
    id: 101,
    name: "Ray-Ban Junior Wayfarer",
    description: "Classic Ray-Ban junior wayfarer sunglasses with UV400 protection.",
    price: 2999,
    image: "https://m.media-amazon.com/images/I/81v54o4E93L._UY1100_.jpg"
  },
  {
    id: 102,
    name: "Nike Kids Sport Sunglasses",
    description: "Durable, lightweight sports sunglasses with UV protection for kids.",
    price: 2500,
    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRw98D3s_Ec3FHHvdfMo20OBpe65DzLxUXVJA&s"
  },
  {
    id: 103,
    name: "Polaroid Kids Polarized Sunglasses",
    description: "Polarized lenses reduce glare and protect sensitive eyes.",
    price: 3999,
    image: "https://en.polaroideyewear.com/cdn/shop/files/sfcc_b11cab9c-880c-497b-840b-9091d5d0ba15.jpg?v=1748004681&width=1800"
  },
  {
    id: 104,
    name: "Oakley Kids Optical Frame",
    description: "Flexible and comfortable Oakley eyeglass frame for children.",
    price: 4599,
    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRS0WY1NKL5YLk1Yg4tJ81t0IBU6XStEdSRKQ&s"
  },
  {
    id: 105,
    name: "Miraflex Flexible Kids Frame",
    description: "Safe and flexible frame designed especially for kids.",
    price: 5999,
    image: "https://cdn-lmhnd.nitrocdn.com/PxsLpNNbBwdYkUZLVjCUhJXJMWGUSoJk/assets/images/optimized/rev-04848ea/opticone.ae/wp-content/uploads/2024/12/Miraflex-kids-glasses-0MF4015__L895_030A-Available-at-Optic-One-UAE-Abu-Dhabi-Dubai.jpg"
  },

  // Screen Glasses
  {
    id: 106,
    name: "Vogue Kids Optical Frame",
    description: "Stylish Vogue eyeglass frame for young trendsetters.",
    price: 1299,
    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHC-2VZgn9WLJH3rGa9I-04ztBIMYxLB5u1A&s"
  },
  {
    id: 107,
    name: "Warby Parker Blue Light Glasses kids ",
    description: "Lightweight frames that block harmful blue light.",
    price: 1599,
    image: "https://img.warbyparker.com/v2/kid%20new%20mobile-e82ef633622b4cfe80745690a13ba8ac.png?originWidth=780&originHeight=750"
  },
  {
    id: 108,
    name: " kids Kate Spade Screen Protectors",
    description: "Fashionable glasses for all-day screen use.",
    price: 1399,
    image: "https://firstlens.in/cdn/shop/products/First-Lens-Juniorgaze-Kids-Computer-Glasses-1.png?v=1734777869&width=1024"
  },

  // Contact Lenses
  {
    id: 109,
    name: "Acuvue Oasys for Kids",
    description: "Comfortable daily contact lenses designed for kids' eyes.",
    price: 2600,
    image: "https://static5.lenskart.com/media/catalog/product/pro/1/thumbnail/480x480/9df78eab33525d08d6e5fb8d27136e95//j/i/acuvue-oasys-with-hydraclear-plus-bi-weekly-contact-lenses--6-lens--box_acuvueoasys-new_g_1280_1.jpg.png"
  },
  {
    id: 110,
    name: "CooperVision MyDay Kids",
    description: "Daily disposable contact lenses with superior comfort.",
    price: 2200,
    image: "https://www.eyeconic.com/dw/image/v2/AAYA_PRD/on/demandware.static/-/Sites-ContactLens_Catalog/default/dw28e52692/images/large/MD90_profile_MYDAY_90PK.jpg?sw=760&sh=326&sm=fit"
  },
  {
    id: 111,
    name: "Bausch + Lomb Kids Contacts",
    description: "Safe and breathable contact lenses for children.",
    price: 2300,
    image: "https://static5.lenskart.com/media/catalog/product/pro/1/thumbnail/480x480/9df78eab33525d08d6e5fb8d27136e95//b/i/bausch---lomb-iconnect-daily-disposable-contact-lenses--30-lens--box--powered_207626-1.jpg"
  },

  // Eyeglasses
  {
    id: 112,
    name: "Disney Kids Glasses",
    description: "Fun Disney-themed frames that kids love to wear.",
    price: 3999,
    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjNSKovHyYeNWUfdBcHX7wX8CrB8R6atej3A&s"
  },
  {
    id: 113,
    name: "Foster Grant Kids Glasses",
    description: "Affordable and durable glasses with fun colors for kids.",
    price: 4599,
    image: "https://www.fostergrant.com/cdn/shop/files/FG-SUN-58873FGK300-Angled.jpg?crop=center&v=1741880003&width=1066"
  }
  
]; 

  // CART AND WISHLIST STORAGE
  let cart = [];
  let wishlist = [];

  // DOM ELEMENTS
  const productsContainer = document.getElementById('productsContainer');
  const searchInput = document.getElementById('searchInput');

  const productModal = document.getElementById('productModal');
  const modalProductImage = document.getElementById('modalProductImage');
  const productModalTitle = document.getElementById('productModalTitle');
  const productModalDesc = document.getElementById('productModalDesc');
  const productModalPrice = document.getElementById('productModalPrice');
  const modalAddToCartBtn = document.getElementById('modalAddToCartBtn');
  const modalAddToWishlistBtn = document.getElementById('modalAddToWishlistBtn');
  const productModalCloseBtn = productModal.querySelector('.close-btn');

  const cartModal = document.getElementById('cartModal');
  const cartBtn = document.getElementById('cartBtn');
  const cartItemsList = document.getElementById('cartItemsList');
  const cartModalCloseBtn = cartModal.querySelector('.close-btn');
  const cartBuyBtn = document.getElementById('cartBuyBtn');
  const cartCount = document.getElementById('cartCount');

  const wishlistModal = document.getElementById('wishlistModal');
  const wishlistBtn = document.getElementById('wishlistBtn');
  const wishlistItemsList = document.getElementById('wishlistItemsList');
  const wishlistModalCloseBtn = wishlistModal.querySelector('.close-btn');
  const wishlistCount = document.getElementById('wishlistCount');

  const paymentModal = document.getElementById('paymentModal');
  const paymentModalCloseBtn = paymentModal.querySelector('.close-btn');
  const paymentFormElement = document.getElementById('paymentFormElement');
  const thankYouMessage = document.getElementById('thankYouMessage');

  const carouselImage = document.getElementById('carouselImage');
  const carouselLeftArrow = document.querySelector('.carousel .arrow.left');
  const carouselRightArrow = document.querySelector('.carousel .arrow.right');

  // Carousel images
  const carouselImages = [
    "https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=900&q=80",
    "https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?auto=format&fit=crop&w=900&q=80",
    "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=900&q=80"
  ];
  let currentCarouselIndex = 0;

  // Render products (with optional filtering)
  function renderProducts(filter = "") {
    const filtered = products.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()));
    productsContainer.innerHTML = "";
    if(filtered.length === 0){
      productsContainer.innerHTML = "<p style='grid-column:1/-1; text-align:center;'>No products found.</p>";
      return;
    }
    filtered.forEach(product => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <img src="${product.image}" alt="${product.name}" tabindex="0" data-id="${product.id}" />
        <div class="product-info">
          <h3>${product.name}</h3>
          <p class="price">‚Çπ${product.price}</p>
          <div class="btn-group">
            <button class="btn-addcart" data-id="${product.id}">Add to Cart</button>
            <button class="btn-wishlist" data-id="${product.id}">Wishlist</button>
          </div>
        </div>
      `;
      productsContainer.appendChild(card);
    });
  }

  // Show product details modal
  function showProductModal(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) return;
    modalProductImage.src = product.image;
    modalProductImage.alt = product.name;
    productModalTitle.textContent = product.name;
    productModalDesc.textContent = product.description;
    productModalPrice.textContent = `‚Çπ${product.price}`;
    modalAddToCartBtn.dataset.id = productId;
    modalAddToWishlistBtn.dataset.id = productId;
    productModal.classList.add('active');
    productModal.focus();
  }

  // Close all modals helper
  function closeModal(modal) {
    modal.classList.remove('active');
    // reset payment modal form and thank you message
    if(modal === paymentModal){
      paymentFormElement.style.display = "block";
      thankYouMessage.style.display = "none";
      paymentFormElement.reset();
    }
  }

  // Update counts for cart and wishlist badges
  function updateCounts() {
    cartCount.textContent = cart.length;
    wishlistCount.textContent = wishlist.length;
  }

  // Render cart items inside modal
  function renderCart() {
    if (cart.length === 0) {
      cartItemsList.innerHTML = "<p>Your cart is empty.</p>";
      cartBuyBtn.disabled = true;
      return;
    }
    cartBuyBtn.disabled = false;
    cartItemsList.innerHTML = "";
    cart.forEach(product => {
      const item = document.createElement('div');
      item.className = 'cart-wishlist-item';
      item.innerHTML = `
        <img src="${product.image}" alt="${product.name}" />
        <div class="cart-wishlist-item-info">
          <h4>${product.name}</h4>
          <p>‚Çπ${product.price}</p>
        </div>
        <div class="cart-wishlist-item-actions">
          <button class="btn-remove" data-id="${product.id}" aria-label="Remove from cart">Remove</button>
        </div>
      `;
      cartItemsList.appendChild(item);
    });
  }

  // Render wishlist items inside modal
  function renderWishlist() {
    if (wishlist.length === 0) {
      wishlistItemsList.innerHTML = "<p>Your wishlist is empty.</p>";
      return;
    }
    wishlistItemsList.innerHTML = "";
    wishlist.forEach(product => {
      const item = document.createElement('div');
      item.className = 'cart-wishlist-item';
      item.innerHTML = `
        <img src="${product.image}" alt="${product.name}" />
        <div class="cart-wishlist-item-info">
          <h4>${product.name}</h4>
          <p>‚Çπ${product.price}</p>
        </div>
        <div class="cart-wishlist-item-actions">
          <button class="btn-remove" data-id="${product.id}" aria-label="Remove from wishlist">Remove</button>
          <button class="btn-addcart" data-id="${product.id}" aria-label="Add to cart from wishlist">Add to Cart</button>
        </div>
      `;
      wishlistItemsList.appendChild(item);
    });
  }

  // Add product to cart if not already added
  function addToCart(productId) {
    if (cart.some(p => p.id === productId)) return;
    const product = products.find(p => p.id === productId);
    if (!product) return;
    cart.push(product);
    updateCounts();
  }

  // Add product to wishlist if not already added
  function addToWishlist(productId) {
    if (wishlist.some(p => p.id === productId)) return;
    const product = products.find(p => p.id === productId);
    if (!product) return;
    wishlist.push(product);
    updateCounts();
  }

  // Remove product from cart by id
  function removeFromCart(productId) {
    cart = cart.filter(p => p.id !== productId);
    updateCounts();
  }

  // Remove product from wishlist by id
  function removeFromWishlist(productId) {
    wishlist = wishlist.filter(p => p.id !== productId);
    updateCounts();
  }

  // Event listeners
  // Search
  searchInput.addEventListener('input', (e) => {
    renderProducts(e.target.value);
  });

  // Product image click to open product modal
  productsContainer.addEventListener('click', (e) => {
    if(e.target.tagName === 'IMG') {
      const pid = Number(e.target.dataset.id);
      if(pid) showProductModal(pid);
    }
  });

  // Product image keyboard enter key open product modal
  productsContainer.addEventListener('keydown', (e) => {
    if(e.target.tagName === 'IMG' && (e.key === 'Enter' || e.key === ' ')) {
      e.preventDefault();
      const pid = Number(e.target.dataset.id);
      if(pid) showProductModal(pid);
    }
  });

  // Add to cart / wishlist buttons on product cards
  productsContainer.addEventListener('click', (e) => {
    if(e.target.classList.contains('btn-addcart')){
      const pid = Number(e.target.dataset.id);
      if(pid){
        addToCart(pid);
        alert("Added to Cart");
      }
    }
    if(e.target.classList.contains('btn-wishlist')){
      const pid = Number(e.target.dataset.id);
      if(pid){
        addToWishlist(pid);
        alert("Added to Wishlist");
      }
    }
  });

  // Product modal buttons
  modalAddToCartBtn.addEventListener('click', () => {
    const pid = Number(modalAddToCartBtn.dataset.id);
    if(pid){
      addToCart(pid);
      alert("Added to Cart");
    }
  });
  modalAddToWishlistBtn.addEventListener('click', () => {
    const pid = Number(modalAddToWishlistBtn.dataset.id);
    if(pid){
      addToWishlist(pid);
      alert("Added to Wishlist");
    }
  });

  // Close product modal
  productModalCloseBtn.addEventListener('click', () => closeModal(productModal));
  productModal.addEventListener('click', e => {
    if(e.target === productModal) closeModal(productModal);
  });

  // Open cart modal
  cartBtn.addEventListener('click', () => {
    renderCart();
    cartModal.classList.add('active');
    cartModal.focus();
  });

  // Close cart modal
  cartModalCloseBtn.addEventListener('click', () => closeModal(cartModal));
  cartModal.addEventListener('click', e => {
    if(e.target === cartModal) closeModal(cartModal);
  });

  // Open wishlist modal
  wishlistBtn.addEventListener('click', () => {
    renderWishlist();
    wishlistModal.classList.add('active');
    wishlistModal.focus();
  });

  // Close wishlist modal
  wishlistModalCloseBtn.addEventListener('click', () => closeModal(wishlistModal));
  wishlistModal.addEventListener('click', e => {
    if(e.target === wishlistModal) closeModal(wishlistModal);
  });

  // Remove buttons inside cart & wishlist modals
  cartItemsList.addEventListener('click', e => {
    if(e.target.classList.contains('btn-remove')){
      const pid = Number(e.target.dataset.id);
      if(pid){
        removeFromCart(pid);
        renderCart();
      }
    }
  });

  wishlistItemsList.addEventListener('click', e => {
    if(e.target.classList.contains('btn-remove')){
      const pid = Number(e.target.dataset.id);
      if(pid){
        removeFromWishlist(pid);
        renderWishlist();
      }
    }
    if(e.target.classList.contains('btn-addcart')){
      const pid = Number(e.target.dataset.id);
      if(pid){
        addToCart(pid);
        removeFromWishlist(pid);
        renderWishlist();
        alert("Moved to Cart");
      }
    }
  });

  // Buy button in cart modal opens payment modal
  cartBuyBtn.addEventListener('click', () => {
    if(cart.length === 0) {
      alert("Your cart is empty.");
      return;
    }
    closeModal(cartModal);
    paymentModal.classList.add('active');
    paymentModal.focus();
  });

  // Close payment modal
  paymentModalCloseBtn.addEventListener('click', () => closeModal(paymentModal));
  paymentModal.addEventListener('click', e => {
    if(e.target === paymentModal) closeModal(paymentModal);
  });

  // Payment form submit
  paymentFormElement.addEventListener('submit', e => {
    e.preventDefault();
    // Simple validation done by required fields and pattern on phone input
    // Show thank you message
    paymentFormElement.style.display = "none";
    thankYouMessage.style.display = "block";
    // Clear cart after payment
    cart = [];
    updateCounts();
    setTimeout(() => {
      closeModal(paymentModal);
    }, 3000);
  });

  const images = [
  'images/carousel1',
  'images/carousel2',
  'images/carousel3'
];

let currentIndex = 0;
const imageElement = document.getElementById('carouselImage');

function showImage(index) {
  imageElement.src = images[index];
}

function nextSlide() {
  currentIndex = (currentIndex + 1) % images.length;
  showImage(currentIndex);
}

function prevSlide() {
  currentIndex = (currentIndex - 1 + images.length) % images.length;
  showImage(currentIndex);
}


   // TRACK ORDER MODAL
const trackOrderModal = document.getElementById('trackOrderModal');
const trackOrderForm = document.getElementById('trackOrderForm');
const trackOrderStatus = document.getElementById('trackOrderStatus');

function openTrackOrderModal() {
  trackOrderModal.classList.add('active');
  trackOrderModal.focus();
}

trackOrderForm.addEventListener('submit', e => {
  e.preventDefault();
  const orderId = document.getElementById('orderId').value.trim();
  const phone = document.getElementById('orderPhone').value.trim();
  if (orderId && phone) {
    trackOrderForm.style.display = "none";
    trackOrderStatus.innerHTML = `Order <strong>#${orderId}</strong> is currently <span style="color:green;">Out for Delivery</span> üöö`;
    trackOrderStatus.style.display = "block";
    setTimeout(() => {
      closeModal(trackOrderModal);
      trackOrderForm.reset();
      trackOrderForm.style.display = "block";
      trackOrderStatus.style.display = "none";
    }, 4000);
  }
}
);


  // Initialize page
  renderProducts();
  updateCounts();
  updateCarousel();

</script>
</body>
</html>
